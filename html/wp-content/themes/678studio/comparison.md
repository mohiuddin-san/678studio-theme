# f()関数 vs vw()関数 比較分析

## 🎯 基本的な違い

### f()関数（従来）
```scss
font-size: f(48); // PC: 48px, SP: 自動計算（36px）
margin: f(30, 20); // PC: 30px, SP: 20px（明示指定）
```

### vw()関数（新システム）
```scss
font-size: vw(48); // PC: Figma 48px → 1440px基準でvw変換
margin: vw-sp(20); // SP: Figma 20px → 380px基準でvw変換
```

## 📊 詳細比較

| 項目 | f()関数 | vw()関数 |
|------|---------|-----------|
| **設計思想** | 複雑なclamp()による滑らかスケール | シンプルなvw変換 |
| **引数** | f(PC値, SP値, ratio, max-scale) | vw(px値), vw-sp(px値) |
| **計算方式** | ブレークポイント間の複雑な補間 | 基準サイズからの比例計算 |
| **ブレークポイント** | 320px〜1440px間で滑らか変化 | SP(380px基準) / PC(1440px基準) |
| **使いやすさ** | 複雑（4つのパラメータ） | シンプル（1つのパラメータ） |

## 🔬 技術的仕組み

### f()関数の複雑な計算
```scss
// 例: f(48, 36)の場合
clamp(
  21.6px,  // SP最小値（36 * 0.6）
  max(
    calc(36px + 12 * ((100vw - 320px) / 1120)), // 線形補間
    3.33vw   // PC基準vw（48/1440*100）
  ),
  96px     // 最大値（48 * 2）
)
```

### vw()関数のシンプル計算
```scss
// 例: vw(48)の場合
min(12px, calc(48px * (100vw / 1440px)))
// = min(12px, 3.33vw)
```

## 🎨 実用例比較

### f()関数での記述
```scss
.element {
  font-size: f(48, 32);           // 4つの値を考慮
  padding: f(30, 20);             // SP値も指定必要
  margin: f(40);                  // SP値は自動計算（30px）

  @include mq(md) {
    // SPでも同じf()関数（内部で判定）
    font-size: f(32, 24);
  }
}
```

### vw()関数での記述
```scss
.element {
  // PC用（デフォルト）
  font-size: vw(48);              // シンプル
  padding: vw(30);                // 1つの値のみ
  margin: vw(40);                 // 直感的

  // SP用
  @include mq(md) {
    font-size: vw-sp(32);         // 明確な区別
    padding: vw-sp(20);           // SP専用関数
    margin: vw-sp(30);            // 分かりやすい
  }
}
```

## ⚡ パフォーマンス比較

### f()関数（重い）
- 複雑なclamp()とmax()の組み合わせ
- ブラウザが毎回複雑な計算を実行
- CSS出力サイズが大きい

### vw()関数（軽い）
- シンプルなcalc()とmin()
- ブラウザの計算負荷が軽い
- CSS出力がコンパクト

## 🔄 移行のメリット・デメリット

### メリット
- ✅ **シンプル**: 1つの値だけ指定
- ✅ **直感的**: Figmaの値をそのまま使用
- ✅ **軽量**: CSS出力がコンパクト
- ✅ **明確**: SP/PC の区別が明確
- ✅ **柔軟**: プロジェクト毎の基準値設定可能

### デメリット
- ❌ **滑らかさ減少**: ブレークポイント間の滑らか変化なし
- ❌ **記述量増加**: SP/PCで別々の記述が必要
- ❌ **最小値制御**: f()のようなclamp最小値なし（min()で対応）

## 🎯 使い分け推奨

### vw()関数が適している場面
- 新規開発
- Figmaデザインに忠実に従いたい
- シンプルな実装を求める
- パフォーマンスを重視

### f()関数が適している場面
- 既存コードベース
- 滑らかなスケーリングが必要
- 複雑な最小値制御が必要

## 🏁 結論

**vw()関数は「シンプルさ」と「直感性」を重視した現代的なアプローチ**
**f()関数は「高度な制御」と「滑らかさ」を重視した従来のアプローチ**

新システムはより使いやすく、Figmaワークフローに適している！