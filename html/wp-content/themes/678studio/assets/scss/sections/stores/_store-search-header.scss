@use '../../base/variables' as v;
@use '../../base/mixins' as m;

.store-search-header {
	background: #fff;
	padding: m.vw(145) m.vw(218) m.vw(189);

	// SP用スタイル
	@include m.mq(md) {
		padding: m.vw-sp(80) 0 m.vw-sp(100); // 全幅、左右パディングなし
	}

	&__container {
		display: flex;
		flex-direction: column;
		align-items: center;
		width: 100%;
	}

	// タイトル部分のグリッド
	&__title-section {
		display: grid;
		grid-template-columns: 1fr m.vw(369) 1fr;
		grid-template-rows: 1fr;
		align-items: center;
		width: 100%;
		margin-bottom: m.vw(35);
		gap: 0 m.vw(19);

		@include m.mq(md) {
			display: flex;
			flex-direction: column;
			gap: m.vw-sp(30);
			margin-bottom: m.vw-sp(50);
			padding: 0 m.vw-sp(20); // コンテンツに少しパディング
			position: relative; // 波線の絶対位置の基準
		}
	}

	// 左側の波線
	&__wave-left {
		grid-column: 1;
		grid-row: 1;
		display: flex;
		justify-content: flex-end;
		align-items: center;

		img {
			width: m.vw(298);
			height: m.vw(38);
			flex-shrink: 0;
		}

		@include m.mq(md) {
			position: absolute;
			left: 0;
			top: 50%;
			transform: translateY(-50%);
			order: 1; // flexでの順序制御

			img {
				width: m.vw-sp(40); // SP用SVGの実際のサイズ
				height: m.vw-sp(35); // SP用SVGの実際のサイズ
			}
		}
	}

	// テキストコンテンツ
	&__text-content {
		grid-column: 2;
		grid-row: 1;
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: m.vw(20);

		@include m.mq(md) {
			position: relative;
			z-index: 2; // 波線の上に表示
			order: 2; // flexでの順序制御（波線の間に配置）
			gap: m.vw-sp(15);
		}
	}

	// 右側の波線
	&__wave-right {
		grid-column: 3;
		grid-row: 1;
		display: flex;
		justify-content: flex-start;
		align-items: center;

		img {
			width: m.vw(298);
			height: m.vw(38);
			flex-shrink: 0;
		}

		@include m.mq(md) {
			position: absolute;
			right: 0;
			top: 50%;
			transform: translateY(-50%) scaleX(-1); // 左右反転
			order: 3; // flexでの順序制御

			img {
				width: m.vw-sp(40); // SP用SVGの実際のサイズ
				height: m.vw-sp(35); // SP用SVGの実際のサイズ
			}
		}
	}

	// メインタイトル
	&__title {
		color: #3f3f3f;
		font-family: 'Noto Sans JP', sans-serif;
		font-size: m.vw(31.25);
		font-style: normal;
		font-weight: 700;
		line-height: m.vw(35);
		letter-spacing: m.vw(1.563);
		margin: 0;
		text-align: center;
		white-space: nowrap;

		@include m.mq(md) {
			font-size: m.vw-sp(25); // Figma仕様: 25px
			line-height: m.vw-sp(35); // Figma仕様: 35px (140%)
			letter-spacing: m.vw-sp(1.25); // Figma仕様: 1.25px
			white-space: normal; // SP では改行許可
		}
	}

	// サブタイトル
	&__subtitle {
		color: #f39556;
		font-family: 'Noto Sans JP', sans-serif;
		font-size: m.vw(16);
		font-style: normal;
		font-weight: 500;
		line-height: m.vw(35);
		letter-spacing: m.vw(0.8);
		margin: 0;
		text-align: center;
		white-space: nowrap;

		@include m.mq(md) {
			font-size: m.vw-sp(12.8); // Figma仕様: 12.8px
			line-height: m.vw-sp(24); // Figma仕様: 24px (187.5%)
			letter-spacing: m.vw-sp(0.64); // Figma仕様: 0.64px
			white-space: normal; // SP では改行許可
		}
	}

	// 検索フォームラッパー
	&__search-wrapper {
		width: m.vw(790);
		margin-top: m.vw(92);
		margin-bottom: m.vw(35);

		@include m.mq(md) {
			width: calc(100% - m.vw-sp(40)); // 左右20pxずつのマージン
			margin-top: m.vw-sp(60);
			margin-bottom: m.vw-sp(30);
		}
	}

	// 検索フォーム
	&__search-form {
		width: 100%;
	}

	// 検索入力フィールドラッパー
	&__search-input-wrapper {
		display: inline-flex;
		padding: m.vw(10) m.vw(87) m.vw(10) m.vw(23);
		align-items: center;
		gap: m.vw(14);
		border-radius: 9999px;
		border: 2px solid #f39556;
		width: 100%;
		box-sizing: border-box;

		@include m.mq(md) {
			padding: m.vw-sp(12) m.vw-sp(60) m.vw-sp(12) m.vw-sp(20);
			gap: m.vw-sp(12);
		}
	}

	// 検索アイコン
	&__search-icon {
		width: m.vw(26);
		height: m.vw(26);
		background: none;
		border: none;
		padding: 0;
		cursor: pointer;
		flex-shrink: 0;

		svg {
			width: 100%;
			height: 100%;
		}

		@include m.mq(md) {
			width: m.vw-sp(22);
			height: m.vw-sp(22);
		}
	}

	// 検索入力フィールド
	&__search-input {
		color: #f39556;
		font-family: 'Noto Sans JP', sans-serif;
		font-size: m.vw(16);
		font-style: normal;
		font-weight: 500;
		line-height: 250%;
		letter-spacing: m.vw(3.2);
		border: none;
		outline: none;
		background: transparent;
		flex: 1;
		align-self: stretch;

		&::placeholder {
			color: #d6d6d6;
		}

		@include m.mq(md) {
			font-size: m.vw-sp(14);
			letter-spacing: m.vw-sp(2.8);
		}
	}

	// 都道府県プルダウンラッパー
	&__prefecture-wrapper {
		width: 100%; // 検索フォームと同じ幅
		position: relative;
		margin-top: m.vw(35);

		@include m.mq(md) {
			margin-top: m.vw-sp(25);
		}
	}

	// 都道府県セレクト
	&__prefecture-select {
		display: block;
		height: m.vw(53);
		padding: m.vw(10) m.vw(40) m.vw(10) m.vw(19);
		border-radius: m.vw(30);
		border: 2px solid #D6D6D6;
		width: 100%;
		box-sizing: border-box;
		background: transparent;
		appearance: none;
		cursor: pointer;

		color: #3F3F3F;
		font-family: "Noto Sans JP", sans-serif;
		font-size: m.vw(16);
		font-style: normal;
		font-weight: 500;
		line-height: 1.5;
		letter-spacing: m.vw(3.2);

		&:focus {
			outline: none;
		}

		@include m.mq(md) {
			height: m.vw-sp(45);
			padding: m.vw-sp(12) m.vw-sp(35) m.vw-sp(12) m.vw-sp(18);
			border-radius: m.vw-sp(25);
			font-size: m.vw-sp(14);
			letter-spacing: m.vw-sp(2.8);
		}
	}

	// プルダウン矢印
	&__prefecture-arrow {
		position: absolute;
		top: 50%;
		right: m.vw(20);
		transform: translateY(-50%);
		pointer-events: none;
		width: m.vw(12);
		height: m.vw(12);
		display: flex;
		align-items: center;
		justify-content: center;

		svg {
			width: m.vw(6);
			height: m.vw(12);
		}

		@include m.mq(md) {
			right: m.vw-sp(18);
			width: m.vw-sp(10);
			height: m.vw-sp(10);

			svg {
				width: m.vw-sp(5);
				height: m.vw-sp(10);
			}
		}
	}

	// 検索ボタンラッパー
	&__button-wrapper {
		width: 100%; // 画面全幅
		margin-top: m.vw(50);
		display: flex;
		justify-content: center;

		@include m.mq(md) {
			margin-top: m.vw-sp(40);
		}
	}

	// 検索ボタン
	&__search-button {
		display: inline-flex;
		width: m.vw(254);
		padding: m.vw(15) m.vw(50);
		justify-content: center;
		align-items: center;
		border-radius: 9999px;
		background: #f39556;
		border: 2px solid #f39556;
		cursor: pointer;
		transition: all 0.3s ease;

		color: #fff;
		font-family: "Noto Sans JP", sans-serif;
		font-size: m.vw(18);
		font-style: normal;
		font-weight: 700;
		line-height: 1.5;
		letter-spacing: 0.15em;

		&:hover {
			background: #fff;
			color: #f39556;
		}

		&:focus {
			outline: none;
			box-shadow: 0 0 0 3px rgba(243, 149, 86, 0.3);
		}

		@include m.mq(md) {
			width: m.vw-sp(200); // SP用サイズ調整
			padding: m.vw-sp(13) m.vw-sp(40);
			font-size: m.vw-sp(16);
		}
	}
}
